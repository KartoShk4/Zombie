/* ============================================
   ÐÐÐ¡Ð¢Ð ÐžÐ™ÐšÐ˜ Ð—Ð’Ð£ÐšÐ Ð’ Ð˜ÐÐ¢Ð•Ð Ð¤Ð•Ð™Ð¡Ð•
   ============================================
   ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð·Ð²ÑƒÐºÐ¾Ð¼
   Ð² Ð¼ÐµÐ½ÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº: ÑÐ»Ð°Ð¹Ð´ÐµÑ€ Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸ Ð¸
   ÐºÐ½Ð¾Ð¿ÐºÐ° Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð·Ð²ÑƒÐºÐ°.
   ============================================ */

/**
 * Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð² ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð·Ð²ÑƒÐºÐ¾Ð¼
 * Ð’Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ DOM
 */
document.addEventListener("DOMContentLoaded", () => {
    const effectsSlider = document.getElementById("effects-slider");
    const muteBtn = document.getElementById("mute-btn");

    // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ ÑÐ»Ð°Ð¹Ð´ÐµÑ€Ð°
    // ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÐ¼ Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚ÑŒ Ð¸Ð· Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ð° 0.0-1.0 Ð² 0-100 Ð´Ð»Ñ ÑÐ»Ð°Ð¹Ð´ÐµÑ€Ð°
    effectsSlider.value = effectsVolume * 100;

    // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð²
    effectsSlider.addEventListener("input", () => {
        // ÐŸÑ€ÐµÐ¾Ð±Ñ€Ð°Ð·ÑƒÐµÐ¼ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ ÑÐ»Ð°Ð¹Ð´ÐµÑ€Ð° (0-100) Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ 0.0-1.0
        const v = effectsSlider.value / 100;
        setEffectsVolume(v);

        // Ð•ÑÐ»Ð¸ Ð·Ð²ÑƒÐº Ð±Ñ‹Ð» Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½, Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ ÐµÐ³Ð¾ Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ Ð³Ñ€Ð¾Ð¼ÐºÐ¾ÑÑ‚Ð¸
        if (!soundEnabled) {
            unmuteSound();
            muteBtn.textContent = "ðŸ”‡ Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº";
        }
    });

    // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ/Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ð·Ð²ÑƒÐºÐ°
    muteBtn.addEventListener("click", () => {
        if (soundEnabled) {
            // Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð·Ð²ÑƒÐº
            muteSound();
            muteBtn.textContent = "ðŸ”Š Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº";
        } else {
            // Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ Ð·Ð²ÑƒÐº
            unmuteSound();
            muteBtn.textContent = "ðŸ”‡ Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð·Ð²ÑƒÐº";
        }
    });
});
